exports.ids = [2];
exports.modules = {

/***/ 105:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(109);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(3).default
module.exports.__inject__ = function (context) {
  add("009f21e9", content, true, context)
};

/***/ }),

/***/ 107:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/Discord-Logo-Color.2c21aed.png";

/***/ }),

/***/ 108:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(105);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mode_vue_vue_type_style_index_0_id_ee83c0f4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 109:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(2);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".card-profile-stats .description[data-v-ee83c0f4]{white-space:nowrap}.Waterfall-item>*[data-v-ee83c0f4]{margin:.4em!important}.text-large[data-v-ee83c0f4]{font-size:150%!important}.text-little-larger[data-v-ee83c0f4]{font-size:120%!important}.text-little-larger *[data-v-ee83c0f4]{font-size:clear}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 112:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/users/_handle/_mode.vue?vue&type=template&id=ee83c0f4&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"col px-0 profile-page"},[_vm._ssrNode("<div class=\"card-profile container\" style=\"margin-top: 5em\" data-v-ee83c0f4>","</div>",[_vm._ssrNode("<div class=\"b-overlay-wrap position-relative\" data-v-ee83c0f4>","</div>",[_c('card',{staticClass:"card-profile",attrs:{"shadow":"","no-body":""}},[_c('div',{staticClass:"px-4"},[_c('div',{staticClass:"row flex-nowrap justify-content-center"},[_c('div',{staticClass:"col-lg-3 order-1 order-lg-2"},[_c('div',{staticClass:"card-profile-image"},[_c('a',{attrs:{"href":("https://osu.ppy.sh/users/" + (_vm.user.username))}},[_c('img',{directives:[{name:"lazy",rawName:"v-lazy",value:(_vm.avatarSrc),expression:"avatarSrc"}],staticClass:"rounded-circle"})])])]),_vm._v(" "),_c('div',{staticClass:"col-lg-4 order-2 order-lg-1 text-lg-right align-self-lg-center px-0"},[_c('div',{staticClass:"card-profile-stats d-flex justify-content-md-center"},[_c('div',{staticClass:"mx-1"},[_c('span',{staticClass:"heading text-large"},[_vm._v(_vm._s(_vm.user.id))]),_vm._v(" "),_c('span',{staticClass:"description text-little-larger"},[_vm._v("User ID")])]),_vm._v(" "),_c('div',{staticClass:"mx-1"},[_c('span',{staticClass:"heading text-large"},[_vm._v(_vm._s(_vm.acc))]),_vm._v(" "),_c('span',{staticClass:"description text-little-larger"},[_vm._v("Accuracy")])]),_vm._v(" "),_c('div',{directives:[{name:"show",rawName:"v-show",value:(false),expression:"false"}]},[_c('span',{staticClass:"heading"},[_vm._v("0")]),_vm._v(" "),_c('span',{staticClass:"description"},[_vm._v("Level")])])])]),_vm._v(" "),_c('div',{staticClass:"col-lg-4 order-2 order-lg-3 px-0"},[_c('div',{staticClass:"card-profile-stats d-flex justify-content-md-center"},[_c('div',{directives:[{name:"show",rawName:"v-show",value:(false),expression:"false"}],staticClass:"mx-1"},[_c('span',{staticClass:"heading text-large"},[_vm._v(_vm._s(_vm.user.statistics.pp))]),_vm._v(" "),_c('span',{staticClass:"description text-little-larger"},[_vm._v("PP")])]),_vm._v(" "),_c('div',{staticClass:"mx-1"},[_c('span',{staticClass:"heading text-large"},[_vm._v("#"+_vm._s(_vm.user.statistics.rank.global))]),_vm._v(" "),_c('span',{staticClass:"description text-little-larger"},[_vm._v("Global")])]),_vm._v(" "),_c('div',{staticClass:"mx-1"},[_c('span',{staticClass:"heading text-large"},[_vm._v("#"+_vm._s(_vm.user.statistics.rank.country))]),_vm._v(" "),_c('span',{staticClass:"description text-little-larger"},[_c('gb-flag',{staticClass:"mr-1",attrs:{"code":_vm.user.country.code,"size":"small","icon-path":"/assets/flags"}})],1)])])])]),_vm._v(" "),_c('div',{staticClass:"text-center mt-4"},[_c('h1',[_vm._v(_vm._s(_vm.user.username))]),_vm._v(" "),(_vm.user.previous_usernames.length)?_c('div',{staticClass:"d-flex justify-content-center align-items-baseline"},[_c('h3',{staticClass:"pr-1"},[_vm._v("\n                aka\n              ")]),_vm._v(" "),_c('p',{staticClass:"mb-0 text-large"},[_vm._v("\n                "+_vm._s(_vm.user.previous_usernames.join(','))+"\n              ")])]):_vm._e(),_vm._v(" "),_c('h4',[_vm._v("注册于 "+_vm._s(new Date(_vm.user.join_date).toLocaleDateString())+" "+_vm._s(new Date(_vm.user.join_date).toLocaleTimeString()))])])]),_vm._v(" "),_c('b-card-footer',{staticClass:"py-1"},[_c('b-container',{attrs:{"fluid":""}},[_c('b-row',{staticClass:"justify-content-md-center flex-wrap"},[_c('b-col',{staticClass:"text-nowrap",attrs:{"col":"","lg":"auto"}},[_c('i',{staticClass:"ni ni-planet pr-1"}),_vm._v(_vm._s(_vm.user.is_online ? '在线' : '离线')+"\n              ")]),_vm._v(" "),(_vm.user.location)?_c('b-col',{staticClass:"text-nowrap",attrs:{"col":"","lg":"auto"}},[_c('i',{staticClass:"ni ni-square-pin pr-1"}),_vm._v(_vm._s(_vm.user.location)+"\n              ")]):_vm._e(),_vm._v(" "),(_vm.user.interests)?_c('b-col',{staticClass:"text-nowrap",attrs:{"col":"","lg":"auto"}},[_c('i',{staticClass:"ni ni-favourite-28 pr-1"}),_vm._v(_vm._s(_vm.user.interests)+"\n              ")]):_vm._e(),_vm._v(" "),(_vm.user.occupation)?_c('b-col',{staticClass:"text-nowrap",attrs:{"col":"","lg":"auto"}},[_c('i',{staticClass:"ni ni-briefcase-24 pr-1"}),_vm._v(_vm._s(_vm.user.occupation)+"\n              ")]):_vm._e(),_vm._v(" "),(_vm.user.playstyle.length)?_c('b-col',{staticClass:"text-nowrap",attrs:{"col":"","lg":"auto"}},[_c('i',{staticClass:"ni ni-tag pr-1"}),_vm._v("\n                用 "+_vm._s(_vm.user.playstyle.join(', '))+" 打图\n              ")]):_vm._e(),_vm._v(" "),(_vm.user.discord)?_c('b-col',{attrs:{"col":"","lg":"auto"}},[_c('img',{attrs:{"src":__webpack_require__(107),"height":"20px"}}),_vm._v(" "+_vm._s(_vm.user.discord)+"\n              ")]):_vm._e()],1)],1)],1)],1)],1),_vm._ssrNode(" "),_c('no-ssr',[_c('waterfall',{staticStyle:{"width":"calc(100% + 0.8rem)","left":"-0.4rem","padding-top":"0.4rem"},attrs:{"options":{
          gutter: 0,
          itemSelector: '.Waterfall-item'
        }}},[_c('waterfall-item',{staticStyle:{"width":"calc(33.33%)"}},[_c('card',{staticClass:"glut",attrs:{"shadow":"","no-body":""}},[_c('apexchart',{staticStyle:{"width":"100%"},attrs:{"type":"radialBar","options":_vm.levelRender,"series":[_vm.user.statistics.level.progress]}})],1)],1),_vm._v(" "),(_vm.statisticsHistory.length)?_c('waterfall-item',{staticStyle:{"width":"calc(66.66%)"}},[_c('b-card',{staticClass:"shadow glut",attrs:{"no-body":""}},[_c('b-card-header',{staticClass:"d-inline-flex justify-content-end align-items-baseline"},[_c('h5',{staticClass:"pr-1"},[_vm._v("\n                今天你\n              ")]),_vm._v(" "),_c('h3',[_c('b',[_vm._v(_vm._s(_vm.user.statistics.pp))]),_c('small',[_vm._v("pp")])]),_vm._v(" "),(_vm.ppHistory && _vm.ppHistory[_vm.ppHistory.length - 8] < _vm.user.statistics.pp)?_c('div',[_vm._v("\n                , 你比上周刷多 "+_vm._s(Math.round((_vm.user.statistics.pp - _vm.ppHistory[_vm.ppHistory.length - 8]+ Number.EPSILON ) * 100) / 100)+"pp, 真有你的\n              ")]):(_vm.ppHistory && _vm.ppHistory[_vm.ppHistory.length - 8] > _vm.user.statistics.pp)?_c('div',[_vm._v("\n                , 你比上周少了 "+_vm._s(Math.round((_vm.user.statistics.pp - _vm.ppHistory[_vm.ppHistory.length - 8]+ Number.EPSILON ) * 100) / 100)+"pp, 你是不是倒刷了？\n              ")]):_vm._e()]),_vm._v(" "),_c('apexchart',{attrs:{"type":"line","options":_vm.historyChart.chart,"series":_vm.createSeries()}}),_vm._v(" "),_c('b-card-footer',{staticClass:"text-right py-1 small"},[_vm._v("\n              历史数据由白菜提供\n            ")])],1)],1):_vm._e(),_vm._v(" "),_c('waterfall-item',{staticStyle:{"width":"calc(33.33%)"}},[_c('card',{staticClass:"border-0 glut",attrs:{"shadow":"","no-body":""}},[_c('apexchart',{attrs:{"type":"radialBar","options":_vm.ranks,"series":_vm.rankGradeCounts()}}),_vm._v(" "),_c('b-table-simple',{staticClass:"p-0 m-0",attrs:{"hover":"","small":"","caption-top":"","responsive":"","striped":""}},[_c('colgroup',[_c('col'),_c('col')]),_vm._v(" "),_c('b-thead',{attrs:{"head-variant":"dark"}},[_c('b-tr',[_c('b-th',{staticClass:"text-right"},[_vm._v("\n                    Rank\n                  ")]),_vm._v(" "),_c('b-th',[_vm._v("Count")])],1)],1),_vm._v(" "),_c('b-tbody',_vm._l((_vm.user.statistics.grade_counts),function(count,rank){return _c('b-tr',{key:("grade-count-" + rank)},[_c('b-th',{staticClass:"text-right text-uppercase"},[_vm._v("\n                    "+_vm._s(rank)+"\n                  ")]),_vm._v(" "),_c('b-td',[_vm._v(_vm._s(count))])],1)}),1)],1)],1)],1)],1)],1)],2)])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/users/_handle/_mode.vue?vue&type=template&id=ee83c0f4&scoped=true&

// EXTERNAL MODULE: external "vue2-waterfall"
var external_vue2_waterfall_ = __webpack_require__(104);

// CONCATENATED MODULE: ./node_modules/js-bbcode-parser/src/index.js
class BBCode {
  /**
   * @param {Object} codes
   */
  constructor(codes) {
    this.codes = [];
    this.setCodes(codes);
  }
  /**
   * parse
   *
   * @param {String} text
   * @returns {String}
   */


  parse(text) {
    return this.codes.reduce((text, code) => text.replace(code.regexp, code.replacement), text);
  }
  /**
   * add bb codes
   *
   * @param {String} regex
   * @param {String} replacement
   * @returns {BBCode}
   */


  add(regex, replacement) {
    this.codes.push({
      regexp: new RegExp(regex, 'igm'),
      replacement: replacement
    });
    return this;
  }
  /**
   * set bb codes
   *
   * @param {Object} codes
   * @returns {BBCode}
   */


  setCodes(codes) {
    this.codes = Object.keys(codes).map(function (regex) {
      const replacement = codes[regex];
      return {
        regexp: new RegExp(regex, 'igm'),
        replacement: replacement
      };
    }, this);
    return this;
  }

}
// CONCATENATED MODULE: ./node_modules/js-bbcode-parser/src/simple.js

/* harmony default export */ var simple = (new BBCode({
  '\\[br\\]': '<br>',
  '\\[b\\](.+?)\\[/b\\]': '<strong>$1</strong>',
  '\\[i\\](.+?)\\[/i\\]': '<em>$1</em>',
  '\\[u\\](.+?)\\[/u\\]': '<u>$1</u>',
  '\\[h1\\](.+?)\\[/h1\\]': '<h1>$1</h1>',
  '\\[h2\\](.+?)\\[/h2\\]': '<h2>$1</h2>',
  '\\[h3\\](.+?)\\[/h3\\]': '<h3>$1</h3>',
  '\\[h4\\](.+?)\\[/h4\\]': '<h4>$1</h4>',
  '\\[h5\\](.+?)\\[/h5\\]': '<h5>$1</h5>',
  '\\[h6\\](.+?)\\[/h6\\]': '<h6>$1</h6>',
  '\\[p\\](.+?)\\[/p\\]': '<p>$1</p>',
  '\\[color=(.+?)\\](.+?)\\[/color\\]': '<span style="color:$1">$2</span>',
  '\\[size=([0-9]+)\\](.+?)\\[/size\\]': '<span style="font-size:$1px">$2</span>',
  '\\[img\\](.+?)\\[/img\\]': '<img src="$1">',
  '\\[img=(.+?)\\]': '<img src="$1">',
  '\\[email\\](.+?)\\[/email\\]': '<a href="mailto:$1">$1</a>',
  '\\[email=(.+?)\\](.+?)\\[/email\\]': '<a href="mailto:$1">$2</a>',
  '\\[url\\](.+?)\\[/url\\]': '<a href="$1">$1</a>',
  '\\[url=(.+?)\\|onclick\\](.+?)\\[/url\\]': '<a onclick="$1">$2</a>',
  '\\[url=(.+?)\\starget=(.+?)\\](.+?)\\[/url\\]': '<a href="$1" target="$2">$3</a>',
  '\\[url=(.+?)\\](.+?)\\[/url\\]': '<a href="$1">$2</a>',
  '\\[a=(.+?)\\](.+?)\\[/a\\]': '<a href="$1" name="$1">$2</a>',
  '\\[list\\](.+?)\\[/list\\]': '<ul>$1</ul>',
  '\\[\\*\\](.+?)\\[/\\*\\]': '<li>$1</li>'
}));
// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/users/_handle/_mode.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


const defaultCodes = [...simple.codes];
/* harmony default export */ var _modevue_type_script_lang_js_ = ({
  layout: 'default',
  components: {
    // Waterfall,
    // WaterfallSlot
    Waterfall: external_vue2_waterfall_["Waterfall"],
    WaterfallItem: external_vue2_waterfall_["WaterfallItem"]
  },

  async asyncData({
    params,
    $axios,
    $config: {
      baseURL
    }
  }) {
    // const statisticsHistory = await fetch('https://www.mothership.top/api/v1/userinfo/1123053?start=20191112&limit=365')
    //   .then(res => res.json())
    //   .then(res => res.data)
    //   .then(res => res.filter(r => r !== null))
    // const banchoApiResult = require('~/data/apiv2.json')
    // return {
    //   user: banchoApiResult,
    //   statisticsHistory
    // }
    let result = {
      user: undefined,
      statisticsHistory: []
    };
    const path = `/api/users/${params.handle}${params.mode ? `/${params.mode}` : ''}`;

    if (true) {
      console.log('server');
      result = await $axios.get(`http://localhost:${process.env.PORT || 3000}${path}`).then(res => res.data);
    }

    if (false) {}

    return {
      user: result.user,
      statisticsHistory: result.statisticsHistory,
      mode: params.mode
    };
  },

  data() {
    return {
      historyChart: {},
      levelRender: {
        chart: {
          type: 'radialBar'
        },
        colors: ['#20E647'],
        plotOptions: {
          radialBar: {
            hollow: {
              margin: 15,
              size: '70%'
            },
            dataLabels: {
              showOn: 'always',
              name: {
                offsetY: -10,
                show: true,
                color: '#888',
                fontSize: '18px'
              },
              value: {
                color: '#111',
                fontSize: '30px',
                show: true,
                formatter: () => `${this.user.statistics.level.current}.${this.user.statistics.level.progress}`
              }
            }
          }
        },
        fill: {
          type: 'gradient',
          gradient: {
            shade: 'dark',
            type: 'vertical',
            gradientToColors: ['#87D4F9'],
            stops: [0, 100]
          }
        },
        stroke: {
          lineCap: 'round'
        },
        labels: ['Level']
      },
      ranks: {
        chart: {
          type: 'radialBar'
        },
        plotOptions: {
          radialBar: {
            dataLabels: {
              total: {
                show: true,
                label: 'Rank',
                fontSize: '21px',
                formatter: val => ''
              },
              value: {
                show: true,
                fontSize: '14px',

                formatter(val) {
                  return val;
                }

              }
            }
          }
        },
        labels: ['XH', 'XS', 'SS', 'S', 'A']
      }
    };
  },

  computed: {
    avatarSrc() {
      return this.user.avatar_url;
    },

    acc() {
      return (this.user.statistics.hit_accuracy / 100).toLocaleString('en-GB', {
        style: 'percent',
        minimumFractionDigits: 2
      });
    },

    pcHistory() {
      if (!this.statisticsHistory.length) {
        return [];
      }

      return this.statisticsHistory.map(rec => rec.playcount);
    },

    ppHistory() {
      if (!this.statisticsHistory.length) {
        return [];
      }

      return this.statisticsHistory.map(rec => rec.ppRaw);
    },

    ppRankHistory() {
      if (!this.statisticsHistory.length) {
        return [];
      }

      return this.statisticsHistory.map(rec => rec.ppRank);
    }

  },

  beforeCreate() {
    const l2Parser = Object.assign(simple, {}); // l2Parser.__proto__ = bbCodeParser.__proto__

    l2Parser.setCodes({
      '\\[center\\](.+?)\\[/center\\]': '<div class="text-center">$1</div>',
      '\\[centre\\](.+?)\\[/centre\\]': '<div class="text-center">$1</div>'
    });
    const newCodes = l2Parser.codes;
    simple.codes = [...defaultCodes, ...newCodes];
  },

  mounted() {
    const numMode = this.numMode(this.mode);
    this.statisticsHistory = this.statisticsHistory.filter(rec => rec.mode === numMode);
    const pp = this.ppHistory;
    this.historyChart = {
      chart: {
        height: 350,
        type: 'line',
        stacked: false,
        stroke: {
          curve: 'smooth'
        },
        chart: {
          toolbar: {
            show: false
          }
        },
        xaxis: {
          type: 'datetime',
          formatter: date => date.toLocaleDateString('en-US'),
          tickAmount: 6
        },
        dataLabels: {
          enabled: false
        },
        yaxis: [{
          min(min) {
            return Math.min(...pp);
          },

          max(max) {
            return Math.max(...pp);
          },

          forceNiceScale: true,
          axisTicks: {
            show: true
          },
          axisBorder: {
            show: true,
            color: '#FF1654'
          },
          labels: {
            style: {
              colors: '#FF1654'
            }
          },
          title: {
            text: 'PP',
            style: {
              color: '#FF1654'
            }
          }
        }, {
          reversed: true,
          opposite: true,
          axisTicks: {
            show: true
          },
          axisBorder: {
            show: true,
            color: '#247BA0'
          },
          labels: {
            style: {
              colors: '#247BA0'
            }
          },
          title: {
            text: 'Rank',
            style: {
              color: '#247BA0'
            }
          }
        }]
      }
    };
  },

  methods: {
    dateHistory() {
      if (!this.statisticsHistory.length) {
        return [];
      }

      return this.statisticsHistory.map(({
        queryDate: {
          year,
          month,
          day
        }
      }) => new Date(`${year}-${month}-${day}`));
    },

    createSeries() {
      if (!this.statisticsHistory.length) {
        return [];
      } // const { ppHistory, ppRankHistory, dateHistory } = this


      const pp = this.ppHistory;
      const rank = this.ppRankHistory;
      const dateHistory = this.dateHistory();
      return Object.entries({
        pp,
        rank
      }).map(([name, data]) => {
        return {
          name,
          data: data.map((d, index) => ({
            x: dateHistory[index],
            y: d
          }))
        };
      });
    },

    rankGradeCounts() {
      const counts = this.user.statistics.grade_counts;
      const values = Object.values(counts);
      const max = Math.max(...values);
      return values.map(count => count / max * 98);
    },

    convertBBCode(bbcode) {
      bbcode = bbcode.split('\n').join('<br>');
      bbcode = this.replaceEmoji(bbcode);
      bbcode = simple.parse(bbcode);
      return bbcode;
    },

    replaceEmoji(html) {
      Object.entries({
        ':peppy:': '<img src="/static/emotes/peppy.png">',
        ':barney:': '<img src="/static/emotes/barney.png">',
        ':akerino:': '<img src="/static/emotes/akerino.png">',
        ':foka:': '<img src="/static/emotes/foka.png">',
        ':kappy:': '<img src="/static/emotes/kappy.png">',
        ':creepypeppy:': '<img src="/static/emotes/creepypeppy.png">',
        ':peppyfiero:': '<img src="/static/emotes/peppyfiero.png">',
        ':djpeppy:': '<img src="/static/emotes/djpeppy.png">',
        ':kappa:': '<img src="/static/emotes/kappa.png">'
      }).map(([occur, replace]) => html = html.split(occur).join(replace));
      return html;
    },

    numMode(mode) {
      if (mode === 'osu') {
        return 0;
      }

      if (mode === 'taiko') {
        return 1;
      }

      if (mode === 'catch') {
        return 2;
      }

      if (mode === 'mania') {
        return 3;
      }

      return 0;
    }

  }
});
// CONCATENATED MODULE: ./pages/users/_handle/_mode.vue?vue&type=script&lang=js&
 /* harmony default export */ var _handle_modevue_type_script_lang_js_ = (_modevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/users/_handle/_mode.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(108)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  _handle_modevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "ee83c0f4",
  "2dab7084"
  
)

/* harmony default export */ var _mode = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {Card: __webpack_require__(18).default})


/***/ })

};;
//# sourceMappingURL=_mode.js.map