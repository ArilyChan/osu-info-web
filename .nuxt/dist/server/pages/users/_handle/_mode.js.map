{"version":3,"file":"pages/users/_handle/_mode.js","sources":["webpack:///./pages/users/_handle/_mode.vue?0ab7","webpack:///./assets/images/Discord-Logo-Color.png","webpack:///./pages/users/_handle/_mode.vue?83a3","webpack:///./pages/users/_handle/_mode.vue?7b2a","webpack:///./pages/users/_handle/_mode.vue?56c0","webpack:///./node_modules/js-bbcode-parser/src/index.js","webpack:///./node_modules/js-bbcode-parser/src/simple.js","webpack:///./pages/users/_handle/_mode.vue","webpack:///./pages/users/_handle/_mode.vue?665a","webpack:///./pages/users/_handle/_mode.vue?40ab"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_mode.vue?vue&type=style&index=0&id=ee83c0f4&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"009f21e9\", content, true, context)\n};","module.exports = __webpack_public_path__ + \"img/Discord-Logo-Color.2c21aed.png\";","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_mode.vue?vue&type=style&index=0&id=ee83c0f4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_mode.vue?vue&type=style&index=0&id=ee83c0f4&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".card-profile-stats .description[data-v-ee83c0f4]{white-space:nowrap}.Waterfall-item>*[data-v-ee83c0f4]{margin:.4em!important}.text-large[data-v-ee83c0f4]{font-size:150%!important}.text-little-larger[data-v-ee83c0f4]{font-size:120%!important}.text-little-larger *[data-v-ee83c0f4]{font-size:clear}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col px-0 profile-page\"},[_vm._ssrNode(\"<div class=\\\"card-profile container\\\" style=\\\"margin-top: 5em\\\" data-v-ee83c0f4>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"b-overlay-wrap position-relative\\\" data-v-ee83c0f4>\",\"</div>\",[_c('card',{staticClass:\"card-profile\",attrs:{\"shadow\":\"\",\"no-body\":\"\"}},[_c('div',{staticClass:\"px-4\"},[_c('div',{staticClass:\"row flex-nowrap justify-content-center\"},[_c('div',{staticClass:\"col-lg-3 order-1 order-lg-2\"},[_c('div',{staticClass:\"card-profile-image\"},[_c('a',{attrs:{\"href\":(\"https://osu.ppy.sh/users/\" + (_vm.user.username))}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.avatarSrc),expression:\"avatarSrc\"}],staticClass:\"rounded-circle\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 order-2 order-lg-1 text-lg-right align-self-lg-center px-0\"},[_c('div',{staticClass:\"card-profile-stats d-flex justify-content-md-center\"},[_c('div',{staticClass:\"mx-1\"},[_c('span',{staticClass:\"heading text-large\"},[_vm._v(_vm._s(_vm.user.id))]),_vm._v(\" \"),_c('span',{staticClass:\"description text-little-larger\"},[_vm._v(\"User ID\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mx-1\"},[_c('span',{staticClass:\"heading text-large\"},[_vm._v(_vm._s(_vm.acc))]),_vm._v(\" \"),_c('span',{staticClass:\"description text-little-larger\"},[_vm._v(\"Accuracy\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_c('span',{staticClass:\"heading\"},[_vm._v(\"0\")]),_vm._v(\" \"),_c('span',{staticClass:\"description\"},[_vm._v(\"Level\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 order-2 order-lg-3 px-0\"},[_c('div',{staticClass:\"card-profile-stats d-flex justify-content-md-center\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"mx-1\"},[_c('span',{staticClass:\"heading text-large\"},[_vm._v(_vm._s(_vm.user.statistics.pp))]),_vm._v(\" \"),_c('span',{staticClass:\"description text-little-larger\"},[_vm._v(\"PP\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mx-1\"},[_c('span',{staticClass:\"heading text-large\"},[_vm._v(\"#\"+_vm._s(_vm.user.statistics.rank.global))]),_vm._v(\" \"),_c('span',{staticClass:\"description text-little-larger\"},[_vm._v(\"Global\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mx-1\"},[_c('span',{staticClass:\"heading text-large\"},[_vm._v(\"#\"+_vm._s(_vm.user.statistics.rank.country))]),_vm._v(\" \"),_c('span',{staticClass:\"description text-little-larger\"},[_c('gb-flag',{staticClass:\"mr-1\",attrs:{\"code\":_vm.user.country.code,\"size\":\"small\",\"icon-path\":\"/assets/flags\"}})],1)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"text-center mt-4\"},[_c('h1',[_vm._v(_vm._s(_vm.user.username))]),_vm._v(\" \"),(_vm.user.previous_usernames.length)?_c('div',{staticClass:\"d-flex justify-content-center align-items-baseline\"},[_c('h3',{staticClass:\"pr-1\"},[_vm._v(\"\\n                aka\\n              \")]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0 text-large\"},[_vm._v(\"\\n                \"+_vm._s(_vm.user.previous_usernames.join(','))+\"\\n              \")])]):_vm._e(),_vm._v(\" \"),_c('h4',[_vm._v(\"注册于 \"+_vm._s(new Date(_vm.user.join_date).toLocaleDateString())+\" \"+_vm._s(new Date(_vm.user.join_date).toLocaleTimeString()))])])]),_vm._v(\" \"),_c('b-card-footer',{staticClass:\"py-1\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"justify-content-md-center flex-wrap\"},[_c('b-col',{staticClass:\"text-nowrap\",attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('i',{staticClass:\"ni ni-planet pr-1\"}),_vm._v(_vm._s(_vm.user.is_online ? '在线' : '离线')+\"\\n              \")]),_vm._v(\" \"),(_vm.user.location)?_c('b-col',{staticClass:\"text-nowrap\",attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('i',{staticClass:\"ni ni-square-pin pr-1\"}),_vm._v(_vm._s(_vm.user.location)+\"\\n              \")]):_vm._e(),_vm._v(\" \"),(_vm.user.interests)?_c('b-col',{staticClass:\"text-nowrap\",attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('i',{staticClass:\"ni ni-favourite-28 pr-1\"}),_vm._v(_vm._s(_vm.user.interests)+\"\\n              \")]):_vm._e(),_vm._v(\" \"),(_vm.user.occupation)?_c('b-col',{staticClass:\"text-nowrap\",attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('i',{staticClass:\"ni ni-briefcase-24 pr-1\"}),_vm._v(_vm._s(_vm.user.occupation)+\"\\n              \")]):_vm._e(),_vm._v(\" \"),(_vm.user.playstyle.length)?_c('b-col',{staticClass:\"text-nowrap\",attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('i',{staticClass:\"ni ni-tag pr-1\"}),_vm._v(\"\\n                用 \"+_vm._s(_vm.user.playstyle.join(', '))+\" 打图\\n              \")]):_vm._e(),_vm._v(\" \"),(_vm.user.discord)?_c('b-col',{attrs:{\"col\":\"\",\"lg\":\"auto\"}},[_c('img',{attrs:{\"src\":require(\"assets/images/Discord-Logo-Color.png\"),\"height\":\"20px\"}}),_vm._v(\" \"+_vm._s(_vm.user.discord)+\"\\n              \")]):_vm._e()],1)],1)],1)],1)],1),_vm._ssrNode(\" \"),_c('no-ssr',[_c('waterfall',{staticStyle:{\"width\":\"calc(100% + 0.8rem)\",\"left\":\"-0.4rem\",\"padding-top\":\"0.4rem\"},attrs:{\"options\":{\n          gutter: 0,\n          itemSelector: '.Waterfall-item'\n        }}},[_c('waterfall-item',{staticStyle:{\"width\":\"calc(33.33%)\"}},[_c('card',{staticClass:\"glut\",attrs:{\"shadow\":\"\",\"no-body\":\"\"}},[_c('apexchart',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"radialBar\",\"options\":_vm.levelRender,\"series\":[_vm.user.statistics.level.progress]}})],1)],1),_vm._v(\" \"),(_vm.statisticsHistory.length)?_c('waterfall-item',{staticStyle:{\"width\":\"calc(66.66%)\"}},[_c('b-card',{staticClass:\"shadow glut\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"d-inline-flex justify-content-end align-items-baseline\"},[_c('h5',{staticClass:\"pr-1\"},[_vm._v(\"\\n                今天你\\n              \")]),_vm._v(\" \"),_c('h3',[_c('b',[_vm._v(_vm._s(_vm.user.statistics.pp))]),_c('small',[_vm._v(\"pp\")])]),_vm._v(\" \"),(_vm.ppHistory && _vm.ppHistory[_vm.ppHistory.length - 8] < _vm.user.statistics.pp)?_c('div',[_vm._v(\"\\n                , 你比上周刷多 \"+_vm._s(Math.round((_vm.user.statistics.pp - _vm.ppHistory[_vm.ppHistory.length - 8]+ Number.EPSILON ) * 100) / 100)+\"pp, 真有你的\\n              \")]):(_vm.ppHistory && _vm.ppHistory[_vm.ppHistory.length - 8] > _vm.user.statistics.pp)?_c('div',[_vm._v(\"\\n                , 你比上周少了 \"+_vm._s(Math.round((_vm.user.statistics.pp - _vm.ppHistory[_vm.ppHistory.length - 8]+ Number.EPSILON ) * 100) / 100)+\"pp, 你是不是倒刷了？\\n              \")]):_vm._e()]),_vm._v(\" \"),_c('apexchart',{attrs:{\"type\":\"line\",\"options\":_vm.historyChart.chart,\"series\":_vm.createSeries()}}),_vm._v(\" \"),_c('b-card-footer',{staticClass:\"text-right py-1 small\"},[_vm._v(\"\\n              历史数据由白菜提供\\n            \")])],1)],1):_vm._e(),_vm._v(\" \"),_c('waterfall-item',{staticStyle:{\"width\":\"calc(33.33%)\"}},[_c('card',{staticClass:\"border-0 glut\",attrs:{\"shadow\":\"\",\"no-body\":\"\"}},[_c('apexchart',{attrs:{\"type\":\"radialBar\",\"options\":_vm.ranks,\"series\":_vm.rankGradeCounts()}}),_vm._v(\" \"),_c('b-table-simple',{staticClass:\"p-0 m-0\",attrs:{\"hover\":\"\",\"small\":\"\",\"caption-top\":\"\",\"responsive\":\"\",\"striped\":\"\"}},[_c('colgroup',[_c('col'),_c('col')]),_vm._v(\" \"),_c('b-thead',{attrs:{\"head-variant\":\"dark\"}},[_c('b-tr',[_c('b-th',{staticClass:\"text-right\"},[_vm._v(\"\\n                    Rank\\n                  \")]),_vm._v(\" \"),_c('b-th',[_vm._v(\"Count\")])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.user.statistics.grade_counts),function(count,rank){return _c('b-tr',{key:(\"grade-count-\" + rank)},[_c('b-th',{staticClass:\"text-right text-uppercase\"},[_vm._v(\"\\n                    \"+_vm._s(rank)+\"\\n                  \")]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(count))])],1)}),1)],1)],1)],1)],1)],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class BBCode {\n    /**\n     * @param {Object} codes\n     */\n    constructor(codes) {\n        this.codes = [];\n\n        this.setCodes(codes);\n    }\n\n    /**\n     * parse\n     *\n     * @param {String} text\n     * @returns {String}\n     */\n    parse(text) {\n        return this.codes.reduce((text, code) => text.replace(code.regexp, code.replacement), text);\n    }\n\n    /**\n     * add bb codes\n     *\n     * @param {String} regex\n     * @param {String} replacement\n     * @returns {BBCode}\n     */\n    add(regex, replacement) {\n        this.codes.push({\n            regexp:      new RegExp(regex, 'igm'),\n            replacement: replacement\n        });\n\n        return this;\n    }\n\n    /**\n     * set bb codes\n     *\n     * @param {Object} codes\n     * @returns {BBCode}\n     */\n    setCodes(codes) {\n        this.codes = Object.keys(codes).map(function (regex) {\n            const replacement = codes[regex];\n\n            return {\n                regexp:      new RegExp(regex, 'igm'),\n                replacement: replacement\n            };\n        }, this);\n\n        return this;\n    }\n}\n","import BBCode from './index.js';\n\nexport default new BBCode({\n    '\\\\[br\\\\]': '<br>',\n\n    '\\\\[b\\\\](.+?)\\\\[/b\\\\]': '<strong>$1</strong>',\n    '\\\\[i\\\\](.+?)\\\\[/i\\\\]': '<em>$1</em>',\n    '\\\\[u\\\\](.+?)\\\\[/u\\\\]': '<u>$1</u>',\n\n    '\\\\[h1\\\\](.+?)\\\\[/h1\\\\]': '<h1>$1</h1>',\n    '\\\\[h2\\\\](.+?)\\\\[/h2\\\\]': '<h2>$1</h2>',\n    '\\\\[h3\\\\](.+?)\\\\[/h3\\\\]': '<h3>$1</h3>',\n    '\\\\[h4\\\\](.+?)\\\\[/h4\\\\]': '<h4>$1</h4>',\n    '\\\\[h5\\\\](.+?)\\\\[/h5\\\\]': '<h5>$1</h5>',\n    '\\\\[h6\\\\](.+?)\\\\[/h6\\\\]': '<h6>$1</h6>',\n\n    '\\\\[p\\\\](.+?)\\\\[/p\\\\]': '<p>$1</p>',\n\n    '\\\\[color=(.+?)\\\\](.+?)\\\\[/color\\\\]':  '<span style=\"color:$1\">$2</span>',\n    '\\\\[size=([0-9]+)\\\\](.+?)\\\\[/size\\\\]': '<span style=\"font-size:$1px\">$2</span>',\n\n    '\\\\[img\\\\](.+?)\\\\[/img\\\\]': '<img src=\"$1\">',\n    '\\\\[img=(.+?)\\\\]':          '<img src=\"$1\">',\n\n    '\\\\[email\\\\](.+?)\\\\[/email\\\\]':       '<a href=\"mailto:$1\">$1</a>',\n    '\\\\[email=(.+?)\\\\](.+?)\\\\[/email\\\\]': '<a href=\"mailto:$1\">$2</a>',\n\n    '\\\\[url\\\\](.+?)\\\\[/url\\\\]':                      '<a href=\"$1\">$1</a>',\n    '\\\\[url=(.+?)\\\\|onclick\\\\](.+?)\\\\[/url\\\\]':      '<a onclick=\"$1\">$2</a>',\n    '\\\\[url=(.+?)\\\\starget=(.+?)\\\\](.+?)\\\\[/url\\\\]': '<a href=\"$1\" target=\"$2\">$3</a>',\n    '\\\\[url=(.+?)\\\\](.+?)\\\\[/url\\\\]':                '<a href=\"$1\">$2</a>',\n\n    '\\\\[a=(.+?)\\\\](.+?)\\\\[/a\\\\]': '<a href=\"$1\" name=\"$1\">$2</a>',\n\n    '\\\\[list\\\\](.+?)\\\\[/list\\\\]': '<ul>$1</ul>',\n    '\\\\[\\\\*\\\\](.+?)\\\\[/\\\\*\\\\]':   '<li>$1</li>'\n});\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Waterfall, WaterfallItem } from 'vue2-waterfall'\nimport bbCodeParser from 'js-bbcode-parser'\nconst defaultCodes = [...bbCodeParser.codes]\nexport default {\n  layout: 'default',\n  components: {\n    // Waterfall,\n    // WaterfallSlot\n    Waterfall,\n    WaterfallItem\n  },\n  async asyncData ({ params, $axios, $config: { baseURL } }) {\n    // const statisticsHistory = await fetch('https://www.mothership.top/api/v1/userinfo/1123053?start=20191112&limit=365')\n    //   .then(res => res.json())\n    //   .then(res => res.data)\n    //   .then(res => res.filter(r => r !== null))\n    // const banchoApiResult = require('~/data/apiv2.json')\n    // return {\n    //   user: banchoApiResult,\n    //   statisticsHistory\n    // }\n    let result = {\n      user: undefined,\n      statisticsHistory: []\n    }\n    const path = `/api/users/${params.handle}${params.mode ? `/${params.mode}` : ''}`\n    if (process.server) {\n      console.log('server')\n      result = await $axios.get(`http://localhost:${process.env.PORT || 3000}${path}`).then(res => res.data)\n    }\n    if (process.client) {\n      console.log('client')\n      result = await $axios.get(`/api/users${path}`).then(res => res.data)\n    }\n    return {\n      user: result.user,\n      statisticsHistory: result.statisticsHistory,\n      mode: params.mode\n    }\n  },\n  data () {\n    return {\n      historyChart: {},\n      levelRender: {\n        chart: {\n          type: 'radialBar'\n        },\n        colors: ['#20E647'],\n        plotOptions: {\n          radialBar: {\n            hollow: {\n              margin: 15,\n              size: '70%'\n            },\n\n            dataLabels: {\n              showOn: 'always',\n              name: {\n                offsetY: -10,\n                show: true,\n                color: '#888',\n                fontSize: '18px'\n              },\n              value: {\n                color: '#111',\n                fontSize: '30px',\n                show: true,\n                formatter: () => `${this.user.statistics.level.current}.${this.user.statistics.level.progress}`\n              }\n            }\n          }\n        },\n        fill: {\n          type: 'gradient',\n          gradient: {\n            shade: 'dark',\n            type: 'vertical',\n            gradientToColors: ['#87D4F9'],\n            stops: [0, 100]\n          }\n        },\n        stroke: {\n          lineCap: 'round'\n        },\n        labels: ['Level']\n      },\n      ranks: {\n        chart: {\n          type: 'radialBar'\n        },\n        plotOptions: {\n          radialBar: {\n            dataLabels: {\n              total: {\n                show: true,\n                label: 'Rank',\n                fontSize: '21px',\n                formatter: val => ''\n              },\n              value: {\n                show: true,\n                fontSize: '14px',\n                formatter (val) {\n                  return val\n                }\n              }\n            }\n          }\n        },\n        labels: ['XH', 'XS', 'SS', 'S', 'A']\n      }\n    }\n  },\n  computed: {\n    avatarSrc () {\n      return this.user.avatar_url\n    },\n    acc () {\n      return (this.user.statistics.hit_accuracy / 100).toLocaleString('en-GB', { style: 'percent', minimumFractionDigits: 2 })\n    },\n    pcHistory () {\n      if (!this.statisticsHistory.length) { return [] }\n      return this.statisticsHistory.map(rec => rec.playcount)\n    },\n    ppHistory () {\n      if (!this.statisticsHistory.length) { return [] }\n      return this.statisticsHistory.map(rec => rec.ppRaw)\n    },\n    ppRankHistory () {\n      if (!this.statisticsHistory.length) { return [] }\n      return this.statisticsHistory.map(rec => rec.ppRank)\n    }\n  },\n  beforeCreate () {\n    const l2Parser = Object.assign(bbCodeParser, {})\n    // l2Parser.__proto__ = bbCodeParser.__proto__\n    l2Parser.setCodes({\n      '\\\\[center\\\\](.+?)\\\\[/center\\\\]': '<div class=\"text-center\">$1</div>',\n      '\\\\[centre\\\\](.+?)\\\\[/centre\\\\]': '<div class=\"text-center\">$1</div>'\n    })\n    const newCodes = l2Parser.codes\n    bbCodeParser.codes = [...defaultCodes, ...newCodes]\n  },\n  mounted () {\n    const numMode = this.numMode(this.mode)\n    this.statisticsHistory = this.statisticsHistory.filter(rec => rec.mode === numMode)\n    const pp = this.ppHistory\n    this.historyChart = {\n      chart: {\n        height: 350,\n        type: 'line',\n        stacked: false,\n        stroke: {\n          curve: 'smooth'\n        },\n        chart: {\n          toolbar: {\n            show: false\n          }\n        },\n        xaxis: {\n          type: 'datetime',\n          formatter: date => date.toLocaleDateString('en-US'),\n          tickAmount: 6\n        },\n        dataLabels: {\n          enabled: false\n        },\n        yaxis: [{\n          min (min) { return Math.min(...pp) },\n          max (max) { return Math.max(...pp) },\n          forceNiceScale: true,\n          axisTicks: {\n            show: true\n          },\n          axisBorder: {\n            show: true,\n            color: '#FF1654'\n          },\n          labels: {\n            style: {\n              colors: '#FF1654'\n            }\n          },\n          title: {\n            text: 'PP',\n            style: {\n              color: '#FF1654'\n            }\n          }\n        },\n        {\n          reversed: true,\n          opposite: true,\n          axisTicks: {\n            show: true\n          },\n          axisBorder: {\n            show: true,\n            color: '#247BA0'\n          },\n          labels: {\n            style: {\n              colors: '#247BA0'\n            }\n          },\n          title: {\n            text: 'Rank',\n            style: {\n              color: '#247BA0'\n            }\n          }\n        }]\n      }\n    }\n  },\n  methods: {\n    dateHistory () {\n      if (!this.statisticsHistory.length) { return [] }\n      return this.statisticsHistory.map(({ queryDate: { year, month, day } }) => new Date(`${year}-${month}-${day}`))\n    },\n    createSeries () {\n      if (!this.statisticsHistory.length) { return [] }\n      // const { ppHistory, ppRankHistory, dateHistory } = this\n      const pp = this.ppHistory\n      const rank = this.ppRankHistory\n      const dateHistory = this.dateHistory()\n      return Object.entries({ pp, rank }).map(([name, data]) => {\n        return ({\n          name,\n          data: data.map((d, index) => ({\n            x: dateHistory[index],\n            y: d\n          }))\n        })\n      })\n    },\n    rankGradeCounts () {\n      const counts = this.user.statistics.grade_counts\n      const values = Object.values(counts)\n      const max = Math.max(...values)\n      return values.map(count => count / max * 98)\n    },\n    convertBBCode (bbcode) {\n      bbcode = bbcode.split('\\n').join('<br>')\n      bbcode = this.replaceEmoji(bbcode)\n      bbcode = bbCodeParser.parse(bbcode)\n      return bbcode\n    },\n    replaceEmoji (html) {\n      Object.entries({\n        ':peppy:': '<img src=\"/static/emotes/peppy.png\">',\n        ':barney:': '<img src=\"/static/emotes/barney.png\">',\n        ':akerino:': '<img src=\"/static/emotes/akerino.png\">',\n        ':foka:': '<img src=\"/static/emotes/foka.png\">',\n        ':kappy:': '<img src=\"/static/emotes/kappy.png\">',\n        ':creepypeppy:': '<img src=\"/static/emotes/creepypeppy.png\">',\n        ':peppyfiero:': '<img src=\"/static/emotes/peppyfiero.png\">',\n        ':djpeppy:': '<img src=\"/static/emotes/djpeppy.png\">',\n        ':kappa:': '<img src=\"/static/emotes/kappa.png\">'\n      }).map(([occur, replace]) => (html = html.split(occur).join(replace)))\n      return html\n    },\n    numMode (mode) {\n      if (mode === 'osu') { return 0 }\n      if (mode === 'taiko') { return 1 }\n      if (mode === 'catch') { return 2 }\n      if (mode === 'mania') { return 3 }\n      return 0\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_mode.vue?vue&type=template&id=ee83c0f4&scoped=true&\"\nimport script from \"./_mode.vue?vue&type=script&lang=js&\"\nexport * from \"./_mode.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_mode.vue?vue&type=style&index=0&id=ee83c0f4&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"ee83c0f4\",\n  \"2dab7084\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Card: require('/Users/kousakananako/Documents/GitHub/osu-info-web/components/argon/Card.vue').default})\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;;;AAGA;AACA;AAEA;AACA;AAEA;;;;;;;;AAMA;AACA;AACA;AAEA;;;;;;;;;AAOA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAEA;;;;;;;;AAMA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAtDA;;ACAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAjCA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA,iBAGA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AARA;AANA;AADA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AADA;AAGA;AAzCA;AA2CA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AANA;AAPA;AADA;AADA;AAmBA;AAvBA;AA7CA;AAuEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAnBA;AACA;AAmBA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AADA;AAFA;AAhBA;AAwBA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AADA;AAFA;AAfA;AA3CA;AADA;AAoEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAtDA;AArNA;;AC/KA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}